<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>用js替换jquery | cry101</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="stylesheet" href="/css/app.css">
  <!-- <link rel='stylesheet' href='http://fonts.useso.com/css?family=Source+Code+Pro'> -->
  
</head>

<body>
  <nav class="app-nav">
  
    
      <a href="/.">home</a>
    
  
    
      <a href="/archives">archive</a>
    
  
    
      <a href="/about">about</a>
    
  
    
      <a href="/atom.xml">rss</a>
    
  
</nav>

  <main class="post">
  <article>
  <h1 class="article-title">
    <a href="/2017/07/18/user-Js/">用js替换jquery</a>
  </h1>

  <section class="article-meta">
    <p class="article-date">七月 18 2017</p>
  </section>

  <section class="article-entry">
    <h3 id="1-获取元素"><a href="#1-获取元素" class="headerlink" title="1.获取元素"></a>1.获取元素</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(<span class="string">'.xxx'</span>);  <span class="comment">//class获取  </span></div><div class="line">$(<span class="string">'#xxx'</span>);  <span class="comment">//id获取  </span></div><div class="line">$(<span class="string">'.xxx.ccc'</span>);  <span class="comment">//同时包含xxx和ccc  </span></div><div class="line">$(<span class="string">'.xxx,.zzz'</span>); <span class="comment">//多选  </span></div><div class="line">$(<span class="string">'.xxx div'</span>); <span class="comment">//子类  </span></div><div class="line">$(<span class="string">'.xxx p:first'</span>); <span class="comment">//第一个P元素  </span></div><div class="line"></div><div class="line"><span class="comment">// javascript （querySelectorAll）</span></div><div class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.xxx'</span>);  <span class="comment">//class获取  </span></div><div class="line"><span class="built_in">document</span>.querySelector(<span class="string">'#xxx'</span>);<span class="comment">//id获取  </span></div><div class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.xxx.ccc'</span>);<span class="comment">//同时包含xxx和ccc  </span></div><div class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.xxx,.ccc'</span>);<span class="comment">//多选  </span></div><div class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.xxx div'</span>);<span class="comment">//子类  </span></div><div class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.xxx p:first-child'</span>);<span class="comment">//第一个P元素</span></div></pre></td></tr></table></figure>
<h3 id="2-操作class"><a href="#2-操作class" class="headerlink" title="2.操作class"></a>2.操作class</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(<span class="string">'.xxx'</span>).addClass(<span class="string">'class_name'</span>);</div><div class="line">$(<span class="string">'.xxx'</span>).removeClass(<span class="string">'class_name'</span>); </div><div class="line">$(<span class="string">'.xxx'</span>).toggleClass(<span class="string">'class_name'</span>); </div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">el.classList.add(<span class="string">'class_name'</span>);</div><div class="line">el.classList.remove(<span class="string">'class_name'</span>);</div><div class="line">el.classList.toggle(<span class="string">'class_name'</span>);</div></pre></td></tr></table></figure>
<h3 id="3-是否包含某个class"><a href="#3-是否包含某个class" class="headerlink" title="3.是否包含某个class"></a>3.是否包含某个class</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(<span class="string">'.xxx'</span>).hasClass(<span class="string">'class_name'</span>);</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">el.classList.contains(<span class="string">'class_name'</span>);</div></pre></td></tr></table></figure>
<p>上面是HTML5提供的新的方法，如果你非要为了兼容所谓的IE，可以用下面的这些<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//是否包含class    </span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasClass</span>(<span class="params">o, n</span>)</span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'\\b'</span>+n+<span class="string">'\\b'</span>).test(o.className);  </div><div class="line">&#125;;  </div><div class="line"><span class="comment">//添加class    </span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">addClass</span>(<span class="params">o, n</span>)</span>&#123;  </div><div class="line">    <span class="keyword">if</span>(!hasClass(o, n)) o.className+=<span class="string">' '</span>+n;  </div><div class="line">&#125;;  </div><div class="line"><span class="comment">//删除class    </span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">delClass</span>(<span class="params">o, n</span>)</span>&#123;  </div><div class="line">    <span class="keyword">if</span>(hasClass(o, n))&#123;  </div><div class="line">        o.className = o.className.replace(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'(?:^|\\s)'</span>+n+<span class="string">'(?=\\s|$)'</span>), <span class="string">''</span>).replace(<span class="regexp">/^\s*|\s*$/g</span>, <span class="string">''</span>);  </div><div class="line">    &#125;;  </div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="4-插入HTML"><a href="#4-插入HTML" class="headerlink" title="4.插入HTML"></a>4.插入HTML</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(el).before(htmlString);  </div><div class="line">$(parent).append(el);  </div><div class="line">$(el).after(htmlString);  </div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">parent.appendChild(el);  </div><div class="line">el.insertBefore(NewDom,ele);  </div><div class="line">ele.insertAdjacentHTML(<span class="string">"beforeend"</span>, <span class="string">'&lt;li&gt;内容&lt;/li&gt;'</span>);</div></pre></td></tr></table></figure>
<h3 id="5-获取节点"><a href="#5-获取节点" class="headerlink" title="5.获取节点"></a>5.获取节点</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(<span class="string">'.xxx'</span>).children();</div><div class="line">$(<span class="string">'.xxx'</span>).prev();</div><div class="line">$(<span class="string">'.xxx'</span>).next(); </div><div class="line">$(<span class="string">'.xxx'</span>).parent();</div><div class="line">$(ele).siblings();</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.children;</div><div class="line"><span class="keyword">var</span> prev = ele.previousElementSibling || ele.previousSibling;  </div><div class="line"><span class="keyword">var</span> next = ele.nextElementSibling || ele.nextSibling;</div><div class="line">ele.parentNode;</div><div class="line"><span class="comment">//上下节点</span></div><div class="line"><span class="keyword">var</span> siblings = <span class="built_in">Array</span>.prototype.slice.call(el.parentNode.children);  </div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = siblings.length; i--;) &#123;  </div><div class="line">    <span class="keyword">if</span> (siblings[i] === el) &#123;  </div><div class="line">        siblings.splice(i, <span class="number">1</span>);  </div><div class="line">        <span class="keyword">break</span>;  </div><div class="line">    &#125;;  </div><div class="line">&#125;;  </div><div class="line">;[].forEach.call(el.parentNode.children, <span class="function"><span class="keyword">function</span>(<span class="params">child</span>)</span>&#123;  </div><div class="line">    <span class="keyword">if</span>(child !== el);  </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="6-循环节点"><a href="#6-循环节点" class="headerlink" title="6.循环节点"></a>6.循环节点</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(selector).each(<span class="function"><span class="keyword">function</span>(<span class="params">i, el</span>)</span>&#123;  </div><div class="line">    <span class="comment">//xxx  </span></div><div class="line">&#125;);  </div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">[].forEach.call(ele,<span class="function"><span class="keyword">function</span>(<span class="params">el,i</span>)</span>&#123;  </div><div class="line">    <span class="comment">//xxx  </span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="7-克隆节点"><a href="#7-克隆节点" class="headerlink" title="7.克隆节点"></a>7.克隆节点</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(<span class="string">'.xxx'</span>).clone(<span class="literal">true</span>);</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.cloneNode(<span class="literal">true</span>);</div></pre></td></tr></table></figure>
<h3 id="8-操作节点"><a href="#8-操作节点" class="headerlink" title="8.操作节点"></a>8.操作节点</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line"><span class="keyword">var</span> ele = $(<span class="string">'&lt;div&gt;&lt;/div&gt;'</span>);</div><div class="line">$(ele).remove();</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="keyword">var</span> ele = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</div><div class="line">parent.removeChild(ele);<span class="comment">//父节点开始删除</span></div></pre></td></tr></table></figure>
<h3 id="9-获取、设置、删除属性"><a href="#9-获取、设置、删除属性" class="headerlink" title="9.获取、设置、删除属性"></a>9.获取、设置、删除属性</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(ele).attr(name,value) <span class="comment">//设置  </span></div><div class="line">$(ele).attr(name) <span class="comment">//获取  </span></div><div class="line">$(ele).removeAttr(name) <span class="comment">//删除</span></div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.setAttribute(name,value);<span class="comment">//设置  </span></div><div class="line">ele.getAttribute(name);<span class="comment">//获取  </span></div><div class="line">ele.removeAttribute(name);<span class="comment">//删除</span></div></pre></td></tr></table></figure>
<h3 id="10-Data属性"><a href="#10-Data属性" class="headerlink" title="10.Data属性"></a>10.Data属性</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(<span class="string">"body"</span>).data(<span class="string">"foo"</span>, <span class="number">52</span>);  <span class="comment">//设置  </span></div><div class="line">$(<span class="string">"body"</span>).data(<span class="string">"foo"</span>);  <span class="comment">//获取  </span></div><div class="line">$(<span class="string">"body"</span>).removeData(<span class="string">"foo"</span>);  <span class="comment">//删除 </span></div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.dataset.foo = <span class="number">52</span>  <span class="comment">//设置  </span></div><div class="line">ele.dataset.foo  <span class="comment">//获取  </span></div><div class="line">  </div><div class="line"><span class="comment">//也可通过attribute方法来设置获取和删除  </span></div><div class="line">ele.setAttribute(<span class="string">'data-foo'</span>, <span class="number">52</span>);<span class="comment">//设置  </span></div><div class="line">ele.getAttribute(<span class="string">'data-foo'</span>); <span class="comment">//获取  </span></div><div class="line">ele.removeAttribute(<span class="string">'data-foo'</span>);<span class="comment">//删除</span></div></pre></td></tr></table></figure>
<h3 id="11-操作内容"><a href="#11-操作内容" class="headerlink" title="11.操作内容"></a>11.操作内容</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line"><span class="keyword">var</span> html = $(ele).html();</div><div class="line">$(el).empty();</div><div class="line">$(ele).text();</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="keyword">var</span> html = ele.innerHTML;</div><div class="line">el.innerHTML = <span class="string">''</span>;</div><div class="line"><span class="keyword">var</span> txt = ele.textContent || ele.innerText;</div></pre></td></tr></table></figure>
<h3 id="12-操作CSS"><a href="#12-操作CSS" class="headerlink" title="12.操作CSS"></a>12.操作CSS</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(ele).css(<span class="string">'height'</span>,<span class="string">'300px'</span>);  </div><div class="line">$(ele).css(&#123;  </div><div class="line">    <span class="attr">height</span>:<span class="number">300</span>  </div><div class="line">&#125;);</div><div class="line">$(obj).css(<span class="string">'marginLeft'</span>);<span class="comment">//获取CSS</span></div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.style.height = <span class="string">'300px'</span>;  </div><div class="line">ele.style.cssText = <span class="string">'height:200px;color:red;left:100px;'</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj,attr</span>)</span>&#123;  </div><div class="line">    <span class="keyword">if</span>(obj.currentStyle)&#123;  </div><div class="line">        <span class="keyword">return</span> obj.currentStyle[attr];  </div><div class="line">    &#125;<span class="keyword">else</span>&#123;  </div><div class="line">        <span class="keyword">return</span> getComputedStyle(obj,<span class="literal">null</span>)[attr];  </div><div class="line">    &#125;;  </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="13-显示隐藏"><a href="#13-显示隐藏" class="headerlink" title="13.显示隐藏"></a>13.显示隐藏</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(el).show();  </div><div class="line">$(el).hide();</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">el.style.display = <span class="string">''</span>;  </div><div class="line">el.style.display = <span class="string">'none'</span>;</div></pre></td></tr></table></figure>
<h3 id="14-元素的高度（宽度同理）-height"><a href="#14-元素的高度（宽度同理）-height" class="headerlink" title="14.元素的高度（宽度同理）[height]"></a>14.元素的高度（宽度同理）[height]</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(ele).height();</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">height</span>(<span class="params">el</span>)</span>&#123;      </div><div class="line">    <span class="keyword">var</span> _height = el.clientHeight;      </div><div class="line">    <span class="keyword">var</span> style = el.currentStyle || getComputedStyle(el);        </div><div class="line">    <span class="keyword">return</span> _height - (<span class="built_in">parseInt</span>(style.paddingTop) + <span class="built_in">parseInt</span>(style.paddingBottom));      </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>元素的内高度（宽度同理）[height + padding]<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(ele).innerHeight(); </div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.clientHeight;</div></pre></td></tr></table></figure></p>
<p>元素的外高度（宽度同理）[height + padding + border]<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(ele).outerHeight();</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.offsetWidth;</div></pre></td></tr></table></figure></p>
<p>元素的外高度（宽度同理）[height + padding + border + margin]<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(ele).outerHeight(<span class="literal">true</span>);</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">outerHeight</span>(<span class="params">el</span>)</span>&#123;    </div><div class="line">    <span class="keyword">var</span> style = el.currentStyle || getComputedStyle(el);    </div><div class="line">    <span class="keyword">var</span> height = el.offsetHeight + <span class="built_in">parseInt</span>(style.marginTop) + <span class="built_in">parseInt</span>(style.marginBottom);    </div><div class="line">    <span class="keyword">return</span> height;    </div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="15-元素的位置"><a href="#15-元素的位置" class="headerlink" title="15.元素的位置"></a>15.元素的位置</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(ele).position().left;  </div><div class="line">$(ele).position().top;  </div><div class="line">  </div><div class="line">$(ele).offset().left;  </div><div class="line">$(ele).offset().top;  </div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.offsetLeft;  </div><div class="line">ele.offsetTop;  </div><div class="line">  </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getposi</span>(<span class="params">obj</span>)</span>&#123;    </div><div class="line">    <span class="keyword">var</span> t = <span class="number">0</span>,l = <span class="number">0</span>;    </div><div class="line">    <span class="keyword">while</span>(obj)&#123;    </div><div class="line">        t+=obj.offsetTop;    </div><div class="line">        l+=obj.offsetLeft;    </div><div class="line">        obj = obj.offsetParent;    </div><div class="line">    &#125;;    </div><div class="line">    <span class="keyword">return</span> &#123;<span class="attr">top</span>:t,<span class="attr">left</span>:l&#125;;    </div><div class="line">&#125;;  </div><div class="line"><span class="comment">//getposi(ele).left  </span></div><div class="line"><span class="comment">//getposi(ele).top  </span></div><div class="line">ele.getBoundingClientRect().top + <span class="built_in">window</span>.pageYOffset;  </div><div class="line">ele.getBoundingClientRect().bottom + <span class="built_in">window</span>.pageYOffset;  </div><div class="line">ele.getBoundingClientRect().left + <span class="built_in">window</span>.pageYOffset;  </div><div class="line">ele.getBoundingClientRect().right + <span class="built_in">window</span>.pageXOffset;</div></pre></td></tr></table></figure>
<h3 id="16-Document事件"><a href="#16-Document事件" class="headerlink" title="16.Document事件"></a>16.Document事件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="comment">// ready </span></div><div class="line">&#125;);</div><div class="line"></div><div class="line">$(<span class="built_in">window</span>).load(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="comment">// load  </span></div><div class="line">&#125;);</div><div class="line"></div><div class="line">$(<span class="built_in">document</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">    <span class="comment">//添加事件  </span></div><div class="line">&#125;);</div><div class="line"></div><div class="line">$(ele).on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">    <span class="comment">//绑定事件  </span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="comment">//ready</span></div><div class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"DOMContentLoaded"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="comment">// Code  </span></div><div class="line">&#125;,<span class="literal">false</span>);</div><div class="line"><span class="comment">//load</span></div><div class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"load"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="comment">// Code  </span></div><div class="line">&#125;,<span class="literal">false</span>);</div><div class="line"><span class="comment">//添加事件</span></div><div class="line"><span class="built_in">document</span>.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">        <span class="comment">//XXX  </span></div><div class="line">&#125;;</div><div class="line"><span class="comment">//绑定事件</span></div><div class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;    </div><div class="line">        <span class="comment">//xxx    </span></div><div class="line">&#125;,<span class="literal">false</span>);    </div><div class="line">  </div><div class="line">[].forEach.call(ele,<span class="function"><span class="keyword">function</span>(<span class="params">o</span>)</span>&#123;  </div><div class="line">    o.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;    </div><div class="line">            <span class="comment">//xxx    </span></div><div class="line">    &#125;,<span class="literal">false</span>);    </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="17-获取数据类型"><a href="#17-获取数据类型" class="headerlink" title="17.获取数据类型"></a>17.获取数据类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$.type(obj);</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">type</span>(<span class="params">obj</span>)</span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(obj).replace(<span class="regexp">/^\[object (.+)\]$/</span>, <span class="string">"$1"</span>).toLowerCase();  </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="18-判断是否为数组"><a href="#18-判断是否为数组" class="headerlink" title="18.判断是否为数组"></a>18.判断是否为数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$.isArray(arr);</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span> (<span class="params">v</span>)</span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(v) === <span class="string">'[object Array]'</span>;     </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="19-去除字符串两端的空格"><a href="#19-去除字符串两端的空格" class="headerlink" title="19.去除字符串两端的空格"></a>19.去除字符串两端的空格</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$.trim(string);</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="comment">//去除两端空格  </span></div><div class="line"><span class="built_in">String</span>.prototype.trim = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="keyword">var</span> reExtraSpace = <span class="regexp">/^\s*(.*?)\s+$/</span>;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace(reExtraSpace, <span class="string">"$1"</span>)  </div><div class="line">&#125;  </div><div class="line"><span class="comment">/***扩展一下***/</span>  </div><div class="line"><span class="comment">//去除左边空格  </span></div><div class="line"><span class="built_in">String</span>.prototype.ltrim = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace( <span class="regexp">/^(\s*|　*)/</span>, <span class="string">""</span>);  </div><div class="line">&#125;  </div><div class="line"><span class="comment">//去除右边空格  </span></div><div class="line"><span class="built_in">String</span>.prototype.rtrim = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace( <span class="regexp">/(\s*|　*)$/</span>, <span class="string">""</span>);  </div><div class="line">&#125;  </div><div class="line"><span class="comment">//替换全部  </span></div><div class="line"><span class="built_in">String</span>.prototype.replaceAll = <span class="function"><span class="keyword">function</span>(<span class="params">s1, s2</span>) </span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="keyword">new</span> <span class="built_in">RegExp</span>(s1, <span class="string">"gm"</span>), s2)  </div><div class="line">&#125;  </div><div class="line"><span class="comment">//去除所有空格，需要配合上面的替换全部  </span></div><div class="line"><span class="built_in">String</span>.prototype.trimAll = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="keyword">var</span> reExtraSpace = <span class="regexp">/\s*(.*?)\s+/</span>;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replaceAll(reExtraSpace, <span class="string">"$1"</span>)  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="20-Cookie"><a href="#20-Cookie" class="headerlink" title="20.Cookie"></a>20.Cookie</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">// jquery</div><div class="line">$.cookie('cookie'); // 读取 cookie  </div><div class="line">$.cookie('cookie', 'value'); // 存储 cookie  </div><div class="line">$.cookie('cookie', 'value', &#123; expires: 7 &#125;); // 存储一个带7天期限的 cookie  </div><div class="line">$.cookie('cookie', '', &#123; expires: -1 &#125;); // 删除 cookie  </div><div class="line"></div><div class="line">// javascript</div><div class="line">function setCookie()&#123;  </div><div class="line">    var json = &#123;&#125;,d;  </div><div class="line">    if(typeof arguments[0] ==’string’)&#123;  </div><div class="line">        json[arguments[0]] = arguments[1];  </div><div class="line">        d = arguments[2]  </div><div class="line">    &#125;else&#123;  </div><div class="line">        for(var i in arguments[0])&#123;  </div><div class="line">            json.i = arguments[0][i]  </div><div class="line">            d = arguments[1];  </div><div class="line">        &#125;;  </div><div class="line">    &#125;;        </div><div class="line">    var t = new Date();  </div><div class="line">    t.setDate(t.getDate()+d);  </div><div class="line">    for(var j in json)&#123;  </div><div class="line">        document.cookie = j+’=’+json[j]+';expires=’+t;  </div><div class="line">    &#125;;  </div><div class="line">&#125;;</div><div class="line"></div><div class="line">function getCookie(n)&#123;  </div><div class="line">    var a = document.cookie.split(‘; ‘);  </div><div class="line">    for(var i=0;i&lt;a.length;i++)&#123;  </div><div class="line">        var a2 = a[i].split(‘=’);  </div><div class="line">        if(a2[0]==n)&#123;  </div><div class="line">            return a2[1];  </div><div class="line">        &#125;;  </div><div class="line">    &#125;;  </div><div class="line">&#125;;</div><div class="line"></div><div class="line">function removeCookie(n)&#123;  </div><div class="line">    setCookie(n,null,-1);  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="21-Ajax"><a href="#21-Ajax" class="headerlink" title="21.Ajax"></a>21.Ajax</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$.ajax(&#123;  </div><div class="line">    <span class="attr">type</span>: <span class="string">'POST'</span>,  </div><div class="line">    <span class="attr">url</span>: <span class="string">'/my/url'</span>,  </div><div class="line">    <span class="attr">data</span>: data  </div><div class="line">&#125;);  </div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="keyword">var</span> request = <span class="keyword">new</span> XMLHttpRequest();  </div><div class="line">request.open(<span class="string">'POST'</span>, <span class="string">'/my/url'</span>, <span class="literal">true</span>);  </div><div class="line">request.send(data);</div></pre></td></tr></table></figure>

  </section>
  
</article>

  <div class="sharing grid">
  <section class="profile grid-item grid">
    <img class="avatar" src="/images/avatar.png" alt="avatar" />
    <div class="grid-item">
      <p class="title"> cry101 </p>
      <p class="subtitle"> You Are The JavaScript In My HTML </p>
    <div>
  </section>

  <section class="share-btns">
      
  <!-- css -->
  <link rel="stylesheet" href="/css/style.css">
  <div class="donateBox">
    <div id="DonateText" class="tr3">Donate</div>
    <ul id="donateBox" class="list pos-f tr3">
      <li id="AliPay">AliPay</li>
      <li id="WeChat">WeChat</li>
    </ul>
    <div id="QRBox" class="pos-f left-100">
      <div id="MainBox"></div>
    </div>
  </div>
  <!-- donate script -->
  <script src="/js/jquery.min.js"></script>
  <script>
 jQuery(document).ready(function() {
  var QRBox = $('#QRBox');
  var MainBox = $('#MainBox');
  // 二维码路径
  var AliPayQR  = '/images/alipayImage.jpg';
  var WeChanQR  = '/images/wechatImage.jpg';


  function showQR(QR) {
    if (QR) {
      MainBox.css('background-image','url('+QR+')');
    }
    $('#DonateText,#donateBox,#github').addClass('blur');
    QRBox.fadeIn(300,function(argument) {
      MainBox.addClass('showQR');
    });
  }

  $('#donateBox>li').click(function(event) {
    var thisID  = $(this).attr('id');
    if (thisID === 'AliPay') {
      showQR(AliPayQR);
    } else if (thisID === 'WeChat') {
      showQR(WeChanQR);
    }
  });

  MainBox.click(function(event) {
    MainBox.removeClass('showQR').addClass('hideQR');
    setTimeout (function(a) {
      QRBox.fadeOut(300,function(argument) {
        MainBox.removeClass('hideQR');
      });
      $('#DonateText,#donateBox,#github').removeClass('blur');
    },600);

  });
});
  </script>


  </section>
</div>


  
    
<section id="comment">  
 <!-- 多说评论框 start -->  
<div class="ds-thread" data-thread-key="2017/07/18/user-Js/" data-title="用js替换jquery" data-url="http://itbirds1900.github.io/http://yoursite.com/2017/07/18/user-Js/"></div>  
<!-- 多说评论框 end -->  
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->  
<script type="text/javascript">  
    var duoshuoQuery = {short_name:"itmyhome1900"};  
        (function() {  
            var ds = document.createElement('script');  
            ds.type = 'text/javascript';ds.async = true;  
            ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';  
            ds.charset = 'UTF-8';  
            (document.getElementsByTagName('head')[0]   
             || document.getElementsByTagName('body')[0]).appendChild(ds);  
        })();  
</script>  
<!-- 多说公共JS代码 end -->  
</section>


  
</main>

</body>
</html>
