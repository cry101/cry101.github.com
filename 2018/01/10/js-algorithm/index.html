<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Cary"><meta name="keywords" content="个人博客"><meta name="description" conauthortent="若尧的博客"><link rel="alternative" href="/atom.xml" title="若尧" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>js算法题 - 若尧</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0;"><div class="hide" id="particles-oli-wrapper"></div><header class="head"><h1 class="head-title u-fl"><a href="/">若尧</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">目录</a></li><li class="head-nav__item"><a class="head-nav__link" href="/about">关于</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2018-01-10T09:19:16.000Z">一月 10, 2018</time><h1 class="post__title"><a href="/2018/01/10/js-algorithm/">js算法题</a></h1><div class="post__main echo"><h3 id="1-Remove-String-Spaces"><a href="#1-Remove-String-Spaces" class="headerlink" title="1.Remove String Spaces"></a>1.Remove String Spaces</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">noSpace</span>(<span class="params">x</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> x.replace(<span class="regexp">/\s/g</span>, <span class="string">''</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-Sort-array-by-string-length"><a href="#2-Sort-array-by-string-length" class="headerlink" title="2.Sort array by string length"></a>2.Sort array by string length</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortByLength</span> (<span class="params">array</span>) </span>&#123;</div><div class="line">  <span class="comment">// Return an array containing the same strings, ordered from shortest to longest</span></div><div class="line">  <span class="keyword">return</span> array.sort((a,b) = &gt;a.length - b.length)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-Handle-String"><a href="#3-Handle-String" class="headerlink" title="3.Handle String"></a>3.Handle String</h3><p>result：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">accum(<span class="string">"abcd"</span>);    <span class="comment">// "A-Bb-Ccc-Dddd"</span></div><div class="line">accum(<span class="string">"RqaEzty"</span>); <span class="comment">// "R-Qq-Aaa-Eeee-Zzzzz-Tttttt-Yyyyyyy"</span></div><div class="line">accum(<span class="string">"cwAt"</span>);    <span class="comment">// "C-Ww-Aaa-Tttt"</span></div><div class="line"><span class="string">`</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">accum</span>(<span class="params">s</span>) </span>&#123;</div><div class="line">	<span class="comment">// your code</span></div><div class="line">  <span class="keyword">if</span>(<span class="regexp">/^[A-Za-z]*$/</span>.test(s))&#123;</div><div class="line">    <span class="keyword">let</span> arr = s.split(<span class="string">''</span>);</div><div class="line">    <span class="keyword">let</span> newArr = [];</div><div class="line">    arr.map(<span class="function">(<span class="params">item,index</span>)=&gt;</span>&#123;</div><div class="line">        <span class="keyword">let</span> str = item.toUpperCase()</div><div class="line">        <span class="keyword">while</span>(index&gt;<span class="number">0</span>)&#123;</div><div class="line">          str += item.toLowerCase();</div><div class="line">          index--</div><div class="line">        &#125;</div><div class="line">        newArr.push(str)</div><div class="line">    &#125;)</div><div class="line">    <span class="keyword">return</span> newArr.join(<span class="string">'-'</span>)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>better:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">accum</span>(<span class="params">s</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> s.split(<span class="string">''</span>).map(<span class="function">(<span class="params">x,index</span>) =&gt;</span> x.toUpperCase()+<span class="built_in">Array</span>(index+<span class="number">1</span>).join(x.toLowerCase())).join(<span class="string">'-'</span>);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">accum</span>(<span class="params">s</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> s.split(<span class="string">''</span>).map(<span class="function">(<span class="params">c, i</span>) =&gt;</span> (c.toUpperCase() + c.toLowerCase().repeat(i))).join(<span class="string">'-'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="4-Handle-Arr"><a href="#4-Handle-Arr" class="headerlink" title="4.Handle Arr"></a>4.Handle Arr</h3><p>result：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[&quot;az&quot;, &quot;toto&quot;, &quot;picaro&quot;, &quot;zone&quot;, &quot;kiwi&quot;] --&gt;</div><div class="line">[[&quot;az&quot;, &quot;toto picaro zone kiwi&quot;], </div><div class="line"> [&quot;az toto&quot;, &quot;picaro zone kiwi&quot;], </div><div class="line"> [&quot;az toto picaro&quot;, &quot;zone kiwi&quot;], </div><div class="line"> [&quot;az toto picaro zone&quot;, &quot;kiwi&quot;]]</div><div class="line">`</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">partlist</span>(<span class="params">arr</span>) </span>&#123;</div><div class="line">    <span class="comment">// your code</span></div><div class="line">    <span class="keyword">let</span> newArr = [],</div><div class="line">        preArr = [],</div><div class="line">        copy = arr.slice(<span class="number">0</span>);<span class="comment">//copy arr</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>;i &lt; arr.length<span class="number">-1</span>;i++)&#123;</div><div class="line">      <span class="keyword">let</span> newItem = [];</div><div class="line">      preArr.push(copy.shift());<span class="comment">// shift arr</span></div><div class="line">      newItem.push(preArr.join(<span class="string">' '</span>));</div><div class="line">      newItem.push(copy.join(<span class="string">' '</span>));</div><div class="line">      newArr.push(newItem);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> newArr</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>better<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> partlist=<span class="function"><span class="params">a</span>=&gt;</span>a.map(<span class="function">(<span class="params">v,i</span>)=&gt;</span>[a.slice(<span class="number">0</span>,i).join(<span class="string">' '</span>),a.slice(i).join(<span class="string">' '</span>)]).slice(<span class="number">1</span>)</div></pre></td></tr></table></figure></p>
<h3 id="5-Get-the-Middle-Character"><a href="#5-Get-the-Middle-Character" class="headerlink" title="5.Get the Middle Character"></a>5.Get the Middle Character</h3><p>result：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">runBF(&quot;test\0&quot;) should return &quot;es&quot;</div><div class="line"></div><div class="line">runBF(&quot;testing\0&quot;) should return &quot;t&quot;</div><div class="line"></div><div class="line">runBF(&quot;middle\0&quot;) should return &quot;dd&quot;</div><div class="line"></div><div class="line">runBF(&quot;A\0&quot;) should return &quot;A&quot;</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMiddle</span>(<span class="params">s</span>)</span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">  <span class="keyword">let</span> a = <span class="built_in">parseInt</span>(s.length/<span class="number">2</span>); <span class="comment">// 5/2 -&gt; 2</span></div><div class="line">  <span class="keyword">return</span> s.length % <span class="number">2</span>? s.substr(a,<span class="number">1</span>) : s.substr(a<span class="number">-1</span>,<span class="number">2</span>) <span class="comment">//odd:even</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>better:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMiddle</span>(<span class="params">s</span>)</span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">  <span class="keyword">return</span> s.substr(<span class="built_in">Math</span>.ceil(s.length / <span class="number">2</span> - <span class="number">1</span>), s.length % <span class="number">2</span> === <span class="number">0</span> ? <span class="number">2</span> : <span class="number">1</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="6-Vowel-Count"><a href="#6-Vowel-Count" class="headerlink" title="6.Vowel Count"></a>6.Vowel Count</h3><p>result:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">getCount(<span class="string">'aeiou'</span>); <span class="comment">//5 a,e,i,o,u</span></div><div class="line">getCount(<span class="string">'abcde'</span>); <span class="comment">//2 a,e</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCount</span>(<span class="params">str</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> vowelsCount = <span class="number">0</span>,</div><div class="line">      arr = [<span class="string">'a'</span>,<span class="string">'e'</span>,<span class="string">'i'</span>,<span class="string">'o'</span>,<span class="string">'u'</span>];</div><div class="line">  str.split(<span class="string">''</span>).map(<span class="function"><span class="params">i</span>=&gt;</span>&#123;</div><div class="line">    <span class="keyword">if</span>(arr.indexOf(i)&gt;=<span class="number">0</span>)&#123; <span class="comment">//arr.indexOf('i') -&gt; 2</span></div><div class="line">      vowelsCount++</div><div class="line">    &#125;</div><div class="line">  &#125;)</div><div class="line">  <span class="keyword">return</span> vowelsCount;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>better:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCount</span>(<span class="params">str</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> (str.match(<span class="regexp">/[aeiou]/ig</span>)||[]).length;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="7-Highest-and-Lowest"><a href="#7-Highest-and-Lowest" class="headerlink" title="7.Highest and Lowest"></a>7.Highest and Lowest</h3><p>result:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">highAndLow(<span class="string">"1 2 3 4 5"</span>); <span class="comment">// return "5 1"</span></div><div class="line">highAndLow(<span class="string">"1 2 -3 4 5"</span>); <span class="comment">// return "5 -3"</span></div><div class="line">highAndLow(<span class="string">"1 9 3 4 -5"</span>); <span class="comment">// return "9 -5"</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">highAndLow</span>(<span class="params">numbers</span>)</span>&#123;</div><div class="line">  <span class="keyword">let</span> arr = numbers.split(<span class="string">" "</span>).sort(<span class="function">(<span class="params">a,b</span>)=&gt;</span>a-b);<span class="comment">// sort arr</span></div><div class="line">  <span class="keyword">return</span> arr[arr.length<span class="number">-1</span>] + <span class="string">' '</span> + arr[<span class="number">0</span>]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>better:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">highAndLow</span>(<span class="params">numbers</span>)</span>&#123;</div><div class="line">  numbers = numbers.split(<span class="string">' '</span>);</div><div class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="built_in">Math</span>.max(...numbers)&#125;</span> <span class="subst">$&#123;<span class="built_in">Math</span>.min(...numbers)&#125;</span>`</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="8-Array-Diff"><a href="#8-Array-Diff" class="headerlink" title="8.Array Diff"></a>8.Array Diff</h3><p>result:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//It should remove all values from list a, which are present in list b.</span></div><div class="line">array_diff([<span class="number">1</span>,<span class="number">2</span>],[<span class="number">1</span>]) <span class="comment">//return [2]</span></div><div class="line">array_diff([<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">2</span>]) <span class="comment">//return [1,3]</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_diff</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line"><span class="comment">// splice导致数组变化</span></div><div class="line"><span class="comment">//   a.map((j,i)=&gt;&#123;</span></div><div class="line"><span class="comment">//     if(b.indexOf(j) &gt;= 0)&#123;</span></div><div class="line"><span class="comment">//       a.splice(i,1)    </span></div><div class="line"><span class="comment">//     &#125;</span></div><div class="line"><span class="comment">//   &#125;) </span></div><div class="line"><span class="keyword">return</span> a.filter(<span class="function"><span class="params">e</span> =&gt;</span> b.indexOf(e)&lt;<span class="number">0</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>other:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_diff</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> a.filter(<span class="function"><span class="params">e</span> =&gt;</span> !b.includes(e));</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="9-Find-the-odd-int"><a href="#9-Find-the-odd-int" class="headerlink" title="9.Find the odd int"></a>9.Find the odd int</h3><p>result:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">findOdd([<span class="number">20</span>,<span class="number">1</span>,<span class="number">-1</span>,<span class="number">2</span>,<span class="number">-2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">20</span>,<span class="number">4</span>,<span class="number">-1</span>,<span class="number">-2</span>,<span class="number">5</span>]) <span class="comment">//return 5</span></div><div class="line">findOdd([<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">-2</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">-1</span>,<span class="number">-2</span>,<span class="number">5</span>]); <span class="comment">//return -1</span></div><div class="line">findOdd([<span class="number">20</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">20</span>,<span class="number">4</span>,<span class="number">5</span>]); <span class="comment">//return 5</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">findOdd</span>(<span class="params">A</span>) </span>&#123;</div><div class="line">  <span class="comment">//happy coding! </span></div><div class="line">  <span class="keyword">let</span> obj = &#123;&#125;<span class="comment">//count obj</span></div><div class="line">  A.map(<span class="function"><span class="params">i</span>=&gt;</span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> j = <span class="number">0</span>;j&lt;A.length;j++)&#123;</div><div class="line">      <span class="keyword">if</span>(i==A[j])&#123;</div><div class="line">        obj[i] = obj[i]?obj[i]+<span class="number">1</span>:<span class="number">1</span>;</div><div class="line">        <span class="keyword">break</span>;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;)</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">in</span> obj)&#123;</div><div class="line">    <span class="keyword">if</span>(obj[k]%<span class="number">2</span>)&#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">parseInt</span>(k)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>better<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> findOdd = <span class="function">(<span class="params">xs</span>) =&gt;</span> xs.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a ^ b);</div></pre></td></tr></table></figure></p>
<h3 id="10-Persistent-Bugger"><a href="#10-Persistent-Bugger" class="headerlink" title="10.Persistent Bugger."></a>10.Persistent Bugger.</h3><p>result:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//which is the number of times you must multiply the digits in num until you reach a single digit.</span></div><div class="line">persistence(<span class="number">39</span>) === <span class="number">3</span> <span class="comment">// because 3*9 = 27, 2*7 = 14, 1*4=4  count:3</span></div><div class="line">                       <span class="comment">// and 4 has only one digit</span></div><div class="line">                       </div><div class="line">persistence(<span class="number">999</span>) === <span class="number">4</span> <span class="comment">// because 9*9*9 = 729, 7*2*9 = 126,  count:4</span></div><div class="line">                        <span class="comment">// 1*2*6 = 12, and finally 1*2 = 2</span></div><div class="line"></div><div class="line">persistence(<span class="number">4</span>) === <span class="number">0</span> <span class="comment">// because 4 is already a one-digit number count:0</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">persistence</span>(<span class="params">num</span>) </span>&#123;</div><div class="line">   <span class="comment">//code me</span></div><div class="line">  <span class="keyword">let</span> count = <span class="number">0</span>;</div><div class="line">  <span class="keyword">while</span>(<span class="built_in">String</span>(num).length &gt; <span class="number">1</span>)&#123;</div><div class="line">    num = <span class="built_in">String</span>(num).split(<span class="string">''</span>).map(<span class="built_in">Number</span>).reduce(<span class="function">(<span class="params">a,b</span>) =&gt;</span> a*b)</div><div class="line">    count++</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> count</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>better：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> persistence = <span class="function"><span class="params">num</span> =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;num&#125;</span>`</span>.length &gt; <span class="number">1</span> </div><div class="line">    ? <span class="number">1</span> + persistence(<span class="string">`<span class="subst">$&#123;num&#125;</span>`</span>.split(<span class="string">''</span>).reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a * +b)) </div><div class="line">    : <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</div></header></article><link rel="stylesheet" href="/css/menu.css"><script src="/js/jquery.autoMenu.js"></script><div class="autoMenu" id="autoMenu" data-autoMenu></div><section class="reward"> <a class="btn-reward" href="#">打赏</a><div class="reward-wrapper clearfix"><img src="/img/wechatImage.jpg" title="微信"><img src="/img/alipayImage.jpg" title="支付宝"></div></section></main><footer class="foot"><div class="foot-copy">&copy; 2016-2018 Cary</div></footer><!--include ../plugins/google.pug--><script src="/js/particles.min.js"></script><script src="/js/particles.other.js"></script><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>